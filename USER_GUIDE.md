# 数据压缩测试系统 - 用户操作手册

## 目录
1. [系统介绍](#系统介绍)
2. [快速开始](#快速开始)
3. [详细操作指南](#详细操作指南)
4. [性能指标解读](#性能指标解读)
5. [测试建议](#测试建议)
6. [常见问题](#常见问题)

## 系统介绍

数据压缩测试系统是一个用于评估不同压缩算法性能的工具。系统采用客户端-服务端架构，支持9种主流压缩算法，可以帮助您：

- 对比不同压缩算法的压缩效率
- 测量压缩和解压的时间开销
- 评估网络传输性能
- 选择最适合您应用场景的压缩算法

## 快速开始

### 第一步：启动服务端

1. 打开命令行终端
2. 进入server目录
3. 运行服务端程序：
   ```bash
   java -jar target/server-1.0.0.jar
   ```
4. 看到"服务器已启动，等待客户端连接..."表示启动成功

### 第二步：启动客户端

1. 打开新的命令行终端
2. 进入client目录
3. 运行客户端程序：
   ```bash
   mvn javafx:run
   ```
4. 客户端界面将打开

### 第三步：连接服务器

1. 在客户端界面顶部，确认主机地址为 `localhost`，端口为 `8888`
2. 点击"连接"按钮
3. 连接成功后，状态指示灯变为绿色，显示"已连接"

### 第四步：传输文件

1. 点击"浏览..."按钮，选择要测试的文件
2. 从压缩算法下拉菜单中选择一种算法（如GZIP）
3. 点击"发送"按钮
4. 观察进度条和性能指标

## 详细操作指南

### 界面说明

客户端界面分为以下几个区域：

#### 1. 服务器连接区域

- **主机**: 服务器的IP地址或主机名（本地测试使用localhost）
- **端口**: 服务器监听的端口号（默认8888）
- **连接按钮**: 点击连接或断开服务器
- **状态指示器**: 
  - 🔴 红色：未连接
  - 🟢 绿色：已连接

#### 2. 文件传输区域

- **文件选择框**: 显示选中的文件路径
- **浏览按钮**: 打开文件选择对话框
- **压缩算法下拉菜单**: 选择要使用的压缩算法
- **发送按钮**: 开始传输文件
- **进度条**: 显示传输进度
- **进度标签**: 显示当前操作状态

#### 3. 性能指标区域

显示当前传输的详细性能数据：

| 指标 | 说明 |
|------|------|
| 原始大小 | 文件的原始大小 |
| 压缩后大小 | 压缩后的大小 |
| 压缩比 | 压缩效率（越小越好）|
| 压缩耗时 | 客户端压缩时间 |
| 发送耗时 | 网络发送时间 |
| 传播时延 | 网络传输时延 |
| 解压耗时 | 服务端解压时间 |
| 总往返时间 | 完整流程总时间 |

#### 4. 测试历史区域

以表格形式记录所有测试结果，方便对比不同算法的性能。

### 操作流程

#### 单次测试流程

1. **准备测试文件**: 选择一个合适大小的文件（建议1-100MB）
2. **连接服务器**: 确保服务端正在运行，点击连接
3. **选择文件**: 点击浏览按钮，选择测试文件
4. **选择算法**: 从下拉菜单选择压缩算法
5. **开始测试**: 点击发送按钮
6. **查看结果**: 等待传输完成，查看性能指标

#### 对比测试流程

如果想对比不同算法的性能：

1. 准备同一个测试文件
2. 使用第一种算法（如GZIP）发送文件
3. 记录结果（会自动保存在测试历史中）
4. 更换压缩算法（如LZ4）
5. 再次发送相同文件
6. 在测试历史表格中对比结果

## 性能指标解读

### 压缩比

**定义**: 压缩后大小 ÷ 原始大小 × 100%

**解读**:
- 压缩比越低，压缩效果越好
- 例如：50%表示压缩后大小为原始的一半
- 不同类型的文件压缩效果差异很大：
  - 文本文件：通常可达20-40%
  - 图片（已压缩）：可能无法再压缩，甚至增大
  - 视频（已压缩）：同样难以压缩

### 压缩耗时

**定义**: 客户端将原始数据压缩所需的时间

**解读**:
- 反映算法的计算复杂度
- LZMA、BZIP2等高压缩比算法通常较慢
- LZ4、SNAPPY等速度优先算法非常快

### 解压耗时

**定义**: 服务端解压数据所需的时间

**解读**:
- 通常解压比压缩快
- 但某些算法（如LZMA）解压也较慢

### 总往返时间

**定义**: 从开始压缩到收到服务端响应的总时间

**解读**:
- 综合评估算法性能的关键指标
- 包含：压缩时间 + 传输时间 + 解压时间
- 用于选择最适合实际应用的算法

## 测试建议

### 1. 选择合适的测试文件

**文件类型建议**:
- **文本文件**: .txt, .log, .csv, .json, .xml
- **程序代码**: .java, .py, .js
- **数据文件**: 未压缩的数据集

**文件大小建议**:
- **小文件测试** (&lt;1MB): 测试算法开销
- **中等文件** (1-50MB): 常规应用场景
- **大文件** (50-500MB): 大数据传输场景

### 2. 算法选择建议

根据不同场景选择合适的算法：

| 场景 | 推荐算法 | 原因 |
|------|---------|------|
| 实时通信 | LZ4, SNAPPY | 速度极快 |
| 网络传输 | Zstd, GZIP | 速度和压缩比平衡 |
| 长期存储 | LZMA, BZIP2 | 压缩比最高 |
| Web应用 | Brotli, GZIP | HTTP标准支持 |

### 3. 测试方法

**基准测试**:
1. 准备3-5个不同类型的文件
2. 对每个文件测试所有9种算法
3. 记录并对比结果
4. 根据应用场景选择最优算法

**性能测试**:
1. 选择预期的压缩算法
2. 使用不同大小的文件测试
3. 验证在实际文件大小下的性能表现

## 常见问题

### Q1: 连接服务器失败怎么办？

**检查清单**:
- [ ] 服务端是否已启动？
- [ ] 主机地址是否正确？（本地测试用localhost）
- [ ] 端口号是否正确？（默认8888）
- [ ] 防火墙是否阻止了连接？

**解决方案**:
1. 重启服务端程序
2. 确认服务端控制台显示"服务器已启动"
3. 客户端重新点击连接按钮

### Q2: 某个压缩算法失败怎么办？

**可能原因**:
- Brotli算法依赖本地库，某些系统可能不支持
- 文件过大导致内存不足

**解决方案**:
1. 尝试其他算法
2. 减小测试文件大小
3. 查看日志文件了解详细错误信息

### Q3: 压缩比显示大于100%是什么意思？

**原因**:
- 文件本身已经是压缩格式（如.jpg, .zip, .mp4）
- 文件太小，算法头部信息占比大
- 数据随机性高，无冗余可压缩

**说明**:
这是正常现象。压缩算法对已压缩或随机数据无效，甚至会因为添加元数据而增大。

### Q4: 如何查看详细的运行日志？

**日志位置**:
- 服务端: `server/logs/server.log`
- 客户端: `client/logs/client.log`

**用途**:
- 调试连接问题
- 查看详细的时间戳
- 分析错误原因

### Q5: 可以在远程服务器上运行吗？

**可以！**

1. 在服务器上启动服务端程序
2. 客户端连接区域输入服务器IP地址
3. 确保服务器防火墙开放了相应端口
4. 点击连接即可

**注意**: 网络传输时延会影响总体性能。

## 联系支持

如遇到其他问题，请检查：
1. README.md文件
2. 日志文件（logs目录）
3. 项目GitHub Issues（如有）
